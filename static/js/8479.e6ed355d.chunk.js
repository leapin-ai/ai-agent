(self.webpackChunk_kne_components_leapin_ai_agent=self.webpackChunk_kne_components_leapin_ai_agent||[]).push([[8479],{860:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>X});var n=a(55199),s=a(87558),o=a.n(s),r=a(13050),l=a(94679),i=a(33097),c=a.n(i),d=a(96488),u=a(84369),m=a(34677),p=a.n(m),x=a(9942);const g="style_assistant-header__9t4rx__pIGCk",h="style_assistant-header-outer__dc0Ga__pIGCk",j="style_tag__sF-MM__pIGCk",f="style_divider__WuHde__pIGCk",v="style_title__vxSix__pIGCk",b="style_options__AcpuP__pIGCk";var y=a(70579);const S=(0,r.createWithRemoteLoader)({modules:["components-core:FormInfo","components-core:File@Download"]})((e=>{let{remoteModules:t}=e;const[a,s]=t,{Upload:o}=a.fields,{useFormContext:r}=a,{formData:l,openApi:i}=r();return(0,y.jsxs)(n.Flex,{vertical:!0,children:[(0,y.jsx)(o.Field,{onUpload:async e=>{let{file:t}=e;const a=await new Promise((e=>{const a=new FileReader;a.onload=function(t){const a=new Uint8Array(t.target.result),n=u.read(a,{type:"array"}),s=n.Sheets[n.SheetNames[0]],o=u.utils.sheet_to_json(s);e(o)},a.readAsArrayBuffer(t)}));return i.setFormData(p()({},l,{cv_data_list:a.map((e=>({name:e["Candidate Name"],email:e.Email,phone:"+66 "+e.Tel})))})),{data:{code:0,data:[]}}},maxLength:1,children:"Upload Excel"}),(0,y.jsxs)("div",{children:["Download template:",(0,y.jsx)(s,{type:"link",filename:"CandidateTemplate.xlsx",src:window.PUBLIC_URL+"/CandidateTemplate.xlsx",children:"Candidate template"})]})]})})),C=(0,r.createWithRemoteLoader)({modules:["components-core:Global@usePreset","components-core:Icon","components-core:LoadingButton","components-core:Modal@useConfirmModal","components-core:StateTag","components-core:FormInfo@useFormModal","components-core:FormInfo","components-core:File@Download"]})((e=>{let{remoteModules:t,id:a,avatar:s,name:o,roles:r,status:i,reload:u,baseUrl:m}=e;const[p,C,k,w,R,P,_,A]=t,{ajax:N,apis:O}=p(),I=(0,l.useNavigate)(),{message:G}=n.App.useApp(),T=w(),F=P(),{SuperSelect:L,Upload:M,Input:E,PhoneNumber:B}=_.fields,{List:Y,TableList:D}=_;return(0,y.jsx)("div",{className:h,children:(0,y.jsxs)(n.Flex,{gap:20,className:g,children:[(0,y.jsx)(n.Avatar,{size:54,src:s||x}),(0,y.jsxs)(n.Flex,{flex:1,vertical:!0,gap:24,children:[(0,y.jsxs)(n.Flex,{gap:24,align:"center",children:[(0,y.jsxs)(n.Flex,{vertical:!0,flex:1,gap:8,children:[(0,y.jsxs)("div",{className:v,children:[o,(0,y.jsx)(n.Dropdown,{trigger:"click",menu:{items:[{key:"duplicate",label:"Duplicate",onClick:async()=>{const{data:e}=await N(Object.assign({},O.agent.duplicateAgent,{urlParams:{agent_id:a},data:{agent_id:a}}));0===e.code&&(G.success("Duplicate success"),I(`${m}/detail?id=${e.data.id}`))}},{key:"delete",label:"Delete",danger:!0,onClick:()=>{T({danger:!0,type:"confirm",title:"Determine to delete?",onOk:async()=>{const{data:e}=await N(Object.assign({},O.agent.removeAgent,{urlParams:{agent_id:a}}));0===e.code&&(G.success("Delete successful"),I(`${m}/`))}})}}]},children:(0,y.jsx)(n.Button,{className:b,type:"small",shape:"round",icon:(0,y.jsx)(C,{type:"gengduo2"})})})]}),(0,y.jsx)(n.Space,{children:(r||[]).map((e=>(0,y.jsx)("div",{className:j,children:e},e)))})]}),(0,y.jsx)(n.Divider,{className:f,type:"vertical"}),[0,4].indexOf(i)>-1&&(0,y.jsx)(k,{type:"primary",icon:(0,y.jsx)(C,{type:"fasongduihua"}),onClick:async()=>{const{data:e}=await N(Object.assign({},O.agent.saveAgent,{urlParams:{agent_id:a},data:{status:1}}));0===e.code&&(G.success("Success"),u())},children:"Publish"}),3===i&&(0,y.jsx)(R,{type:"danger",text:"Refusal"}),2===i&&(0,y.jsx)(R,{type:"success",text:"Online"}),1===i&&(0,y.jsx)(R,{type:"progress",text:"Auditing"})]}),(0,y.jsxs)(n.Flex,{gap:8,children:[(0,y.jsx)(k,{disabled:2!==i,type:"primary",onClick:async()=>{const{data:e}=await N(Object.assign({},O.agent.chatBot.addSession,{data:{agent_id:a,title:`Test ${o} ChatBot`}}));0===e.code&&I(`${m}/chat-bot-test?id=${a}&sessionId=${e.data.id}`)},icon:(0,y.jsx)(d.MessageOutlined,{}),children:"Test Chat"}),(0,y.jsx)(n.Button,{disabled:2!==i,onClick:()=>{F({title:"Invite",size:"large",autoClose:!0,saveText:"Invite",formProps:{onSubmit:async e=>{const{data:t}=await N(Object.assign({},O.agent.job.deliverJob,{data:{agent_id:a,job_id:e.jobId.value,cv_data_list:e.cv_data_list.map((e=>{let{name:t,email:a,phone:n,resume:s}=e;const o=(()=>{if(!n)return{};const[e,t]=n.split(" ");return{mobile:t,mobile_country_code:e}})();return Object.assign({},o,{name:t,email:a,cv_url:c()(s,"[0].src")})}))}}));if(0!==t.code)return!1;G.success("Send invitation successfully")}},children:(0,y.jsx)(_,{column:1,list:[(0,y.jsx)(L,{name:"jobId",label:"Job",rule:"REQ",single:!0,showSelectedTag:!1,pagination:{paramsType:"params",current:"page",pageSizeName:"page_size"},searchPlaceholder:"Search by job name",getSearchProps:e=>{let{searchText:t}=e;return{job_name:t}},api:Object.assign({},O.agent.job.getJobList,{params:{status:0,page_size:20,job_leader:"all"},transformData:e=>({totalCount:e.count,pageData:e.results.map((e=>({label:e.jobname,value:e.id})))})})}),(0,y.jsx)(S,{}),(0,y.jsx)(D,{title:"Candidates",name:"cv_data_list",column:1,minLength:1,list:[(0,y.jsx)(E,{wrappedClassName:"no-background",name:"name",label:"Name",rule:"REQ"}),(0,y.jsx)(M,{wrappedClassName:"no-background",name:"resume",label:"Resume",maxLength:1,renderTips:()=>"",onSave:e=>{let{data:t}=e;return t}}),(0,y.jsx)(B,{wrappedClassName:"no-background",name:"phone",label:"Phone",format:"string"}),(0,y.jsx)(E,{wrappedClassName:"no-background",name:"email",label:"Email",rule:"EMAIL"})]})]})})},children:"Invite"})]})]})]})})})),k="style_info__KXkit__pIGCk",w="style_form-info__dKpIp__pIGCk",R="style_basic-header__KIv1U__pIGCk",P="style_basic-header-title__TT2aF__pIGCk",_="style_basic-header-description__rO91B__pIGCk",A="style_file-list__s7wFV__pIGCk",N="style_flow-chart__S9hBn__pIGCk",O=(0,r.createWithRemoteLoader)({modules:["components-core:FormInfo","components-core:Global@usePreset"]})((e=>{let{remoteModules:t,data:a,reload:s}=e;const[o,r]=t,{Form:l,MultiField:i,SubmitButton:d}=o,{TextArea:u}=o.fields,{ajax:m,apis:p}=r(),{message:x}=n.App.useApp();return(0,y.jsxs)(l,{type:"default",data:{skills:c()(a,"config.skills")},onSubmit:async e=>{const{data:t}=await m(Object.assign({},p.agent.setAgentConfig,{urlParams:{agent_id:a.id},data:{agent_id:a.id,skills:e.skills}}));0===t.code&&(x.success("Success"),s())},children:[(0,y.jsx)(o,{className:w,column:1,list:[(0,y.jsx)(i,{name:"skills",label:"Agent skills",rule:"REQ",ignoreLabelWidth:!0,labelTips:"When chatting with the agent, you can use one or more of the following skills",field:u,autoSize:{minRows:4},placeholder:"- Expertise in screening candidate\n- Based on their cv, tailor different interview questions"})]}),(0,y.jsx)(n.Flex,{justify:"flex-end",gap:16,children:(0,y.jsx)(d,{children:"Save"})})]})})),I=(0,r.createWithRemoteLoader)({modules:["components-core:FormInfo","components-core:Global@usePreset"]})((e=>{let{remoteModules:t,data:a,reload:s}=e;const[o,r]=t,{Form:l,SubmitButton:i}=o,{TextArea:d}=o.fields,{message:u}=n.App.useApp(),{ajax:m,apis:p}=r();return(0,y.jsxs)(l,{type:"default",data:{prompt:c()(a,"config.prompt")},onSubmit:async e=>{const{data:t}=await m(Object.assign({},p.agent.setAgentConfig,{urlParams:{agent_id:a.id},data:{agent_id:a.id,prompt:e.prompt}}));0===t.code&&(u.success("Success"),s())},children:[(0,y.jsx)(o,{className:w,column:1,list:[(0,y.jsx)(d,{autoSize:{minRows:4},name:"prompt",ignoreLabelWidth:!0,label:"Prompt",rule:"REQ",labelTips:"This is the prompt that virtual employee will use to generate respnses."})]}),(0,y.jsx)(n.Flex,{justify:"flex-end",gap:16,children:(0,y.jsx)(i,{children:"Save"})})]})}));var G=a(73884),T=a(86038),F=a.n(T),L=a(25999),M=a.n(L);(0,T.localeLoader)("en",M());const E=(0,r.createWithRemoteLoader)({modules:["components-core:Global@usePreset","components-core:FormInfo@useFormDrawer","components-core:FormInfo","components-core:LoadingButton"]})((e=>{let{remoteModules:t,data:a,reload:s}=e;const[o,r,l,i]=t,{Input:d,TextArea:u}=l.fields,m=r(),{ajax:p,apis:x}=o(),{message:g}=n.App.useApp(),[h,j]=(0,G.useState)(c()(a,"config.workflow")||[]);return(0,y.jsxs)(n.Flex,{vertical:!0,gap:4,children:[(0,y.jsx)(F(),{className:N,locale:"en",initFit:!1,value:h,vertical:!0,onEditNode:e=>{let{nodeData:t,replaceNode:a}=e;if("normal"!==t.type)if("condition"!==t.type)if("branch"!==t.type);else{const e=m({title:"Edit Branch Node",formProps:{data:{title:t.title,label:t.label,value:t.value},onSubmit:n=>{a(Object.assign({},t,n,{content:n.label||t.content})),e.close()}},children:(0,y.jsx)(l,{column:1,list:[(0,y.jsx)(d,{name:"title",label:"Title"}),(0,y.jsx)(d,{name:"label",label:"Label"}),(0,y.jsx)(d,{name:"value",label:"Value"})]})})}else{const e=m({title:"Edit Condition Node",formProps:{data:{title:t.title,question:t.question},onSubmit:n=>{a(Object.assign({},t,n,{content:n.question||t.content})),e.close()}},children:(0,y.jsx)(l,{column:1,list:[(0,y.jsx)(d,{name:"title",label:"Title"}),(0,y.jsx)(u,{name:"question",label:"Question"})]})})}else{const e=m({title:"Edit Normal Node",formProps:{data:{title:t.title,question:t.question,answer:t.answer},onSubmit:n=>{a(Object.assign({},t,n,{content:n.question||t.content})),e.close()}},children:(0,y.jsx)(l,{column:1,list:[(0,y.jsx)(d,{name:"title",label:"Title",rule:"REQ"}),(0,y.jsx)(u,{name:"question",label:"Question",rule:"REQ"}),(0,y.jsx)(u,{name:"answer",label:"Answer"})]})})}},nodeTemplate:{condition:{title:"Conditional Branch",content:"conditional Branch Content"}},onChange:j}),(0,y.jsx)(n.Flex,{justify:"flex-end",children:(0,y.jsx)(i,{type:"primary",onClick:async()=>{const{data:e}=await p(Object.assign({},x.agent.setAgentConfig,{urlParams:{agent_id:a.id},data:{agent_id:a.id,workflow:h}}));0===e.code&&(g.success("Success"),s())},children:"Save"})})]})}));var B=a(57469),Y=a.n(B);const D=(0,r.createWithRemoteLoader)({modules:["components-core:FileList","components-core:Global@usePreset","components-core:FormInfo","components-core:FormInfo@useFormModal"]})((e=>{let{remoteModules:t,data:a,fileListData:s,reload:o}=e;const[r,l,i,c]=t,{ajax:d,apis:u}=l(),m=c(),{Input:p}=i.fields;return(0,y.jsx)(r,{className:A,list:(s.results||[]).map((e=>{let{id:t,url:a,title:n,create_time:s,fix_time:o}=e;return{id:t,src:a,url:a,filename:a.match(/[^/]+$/)[0],title:n,date:o||s}})),setList:()=>{o({page:1})},apis:{onUpload:async e=>{let{file:t}=e;const{data:n}=await d.postForm(Object.assign(u.agent.uploadKnowledge,{urlParams:{agent_id:a.id},params:{agent_id:a.id,title:t.name.replace(/\.[^/.]+$/,"")},data:{file:t}}));return 0!==n.code?{data:n}:{data:{code:0,data:{id:n.data.id,filename:n.data.url.match(/[^/]+$/)[0],title:n.data.title,src:n.data.url}}}},onDelete:async e=>{const{data:t}=await d(Object.assign({},u.agent.removeKnowledge,{urlParams:{knowledge_id:e.id}}));return 0===t.code},onEditModalShow:(e,t)=>{const a=m({title:"Edit Knowledge Title",size:"small",formProps:{data:{title:e.title},onSubmit:async n=>{!1!==((null===t||void 0===t?void 0:t.onEdit)&&await(null===t||void 0===t?void 0:t.onEdit({formData:n,item:e})))&&a.close()}},children:(0,y.jsx)(i,{column:1,list:[(0,y.jsx)(p,{name:"title",label:"title",labelHidden:!0,rule:"REQ"})]})})},onEdit:async e=>{let{formData:t,item:a}=e;const{data:n}=await d(Object.assign({},u.agent.saveKnowledge,{urlParams:{knowledge_id:a.id},params:{title:t.title}}));return 0===n.code}},infoItemRenders:[e=>e.title?(0,y.jsx)(n.Typography.Text,{children:e.title}):null,e=>e.date?(0,y.jsx)(n.Typography.Text,{children:Y()(e.date).format("DD.MM.YYYY HH:mm:ss")}):null]})})),U=(0,r.createWithRemoteLoader)({modules:["components-core:Global@usePreset"]})((e=>{let{remoteModules:t,data:a,reload:s}=e;const[r]=t,{apis:l}=r(),[i,c]=(0,G.useState)(1);return(0,y.jsx)(o(),{...Object.assign({},l.agent.getKnowledgeList,{urlParams:{agent_id:a.id},params:{page:i,page_size:10}}),render:e=>{let{data:t,reload:o}=e;return(0,y.jsxs)(n.Flex,{vertical:!0,gap:8,children:[(0,y.jsx)(D,{reload:()=>{o(),s()},fileListData:t,data:a}),(0,y.jsx)(n.Flex,{justify:"flex-end",children:(0,y.jsx)(n.Pagination,{showSizeChanger:!1,hideOnSinglePage:!0,total:t.count,current:i,pageSize:10,onChange:c})})]})}})}));var Z=a(65190);const Q=(0,r.createWithRemoteLoader)({modules:["components-core:FormInfo","components-core:Global@usePreset"]})((e=>{let{remoteModules:t,data:a,reload:s}=e;const[o,r]=t,{SubmitButton:l,Form:i}=o,{ajax:c,apis:d}=r(),{message:u}=n.App.useApp();return(0,y.jsxs)(i,{type:"default",data:a,onSubmit:async e=>{const{data:t}=await c(Object.assign({},d.agent.saveAgent,{urlParams:{agent_id:a.id},data:e}));0===t.code&&(u.success("Success"),s())},children:[(0,y.jsxs)("div",{className:R,children:[(0,y.jsxs)("div",{className:P,children:[(0,y.jsx)("i",{}),"Agent infos"]}),(0,y.jsx)("div",{className:_,children:"You can edit your agent infos"})]}),(0,y.jsx)(Z.CreateAgentFormInner,{}),(0,y.jsx)(n.Flex,{justify:"flex-end",gap:16,children:(0,y.jsx)(l,{children:"Save"})})]})}));var W=a(81253),V=a(37204),H=a(73330);const z=(0,r.createWithRemoteLoader)({modules:["components-core:InfoPage@TableView","components-core:Global@usePreset","components-core:Filter","components-core:ButtonGroup","components-core:Icon","components-core:StateTag","components-core:Modal@useModal","components-core:Modal@ModalButton","components-core:Enum","components-core:FormInfo","components-core:InfoPage@CentralContent","components-core:File@FileLink"]})((e=>{let{remoteModules:t,data:a}=e;const[s,r,l,i,d,u,m,p,x,g,h,j]=t,[f,v]=(0,G.useState)([]),{SearchInput:b,getFilterValue:S,fields:C}=l,{SuperSelectFilterItem:k}=C,[w,R]=(0,G.useState)(1),{apis:P,ajax:_}=r(),A=m(),{useFormModal:N}=g,O=N(),{Input:I,PhoneNumber:T}=g.fields,{message:F}=n.App.useApp(),L=S(f);return(0,y.jsx)(o(),{...Object.assign({},P.agent.getApplicationList,{params:Object.assign({},L,{page:w,page_size:20}),urlParams:{agent_id:a.id}}),render:e=>{let{data:t,reload:a}=e;return(0,y.jsxs)(n.Flex,{vertical:!0,gap:8,children:[(0,y.jsx)(x,{moduleName:"atsStage",children:e=>(0,y.jsx)(l,{className:"filter",value:f,onChange:v,list:[[(0,y.jsx)(k,{name:"status",label:"Status",single:!0,showSelectedTag:!1,options:[{label:"Not started",value:0},{label:"In progress",value:1},{label:"Completed",value:2}]})]],extra:(0,y.jsx)(b,{className:H.A["search-input"],name:"name",label:"Name"})})}),(0,y.jsx)(s,{columns:[{name:"name",title:"Name",getValueOf:e=>c()(e,"application.name"),render:(e,t)=>{let{target:a}=t;return(0,y.jsx)(p,{type:"link",className:"btn-no-padding",api:Object.assign({},P.agent.getApplicationDetail,{urlParams:{applications_id:c()(a,"application.id")}}),modalProps:e=>{let{data:t}=e;return{title:"Candidate Preview",footer:null,children:(0,y.jsx)(V.default,{data:t})}},children:e})}},{name:"role",title:"Role",span:6,getValueOf:e=>c()(e,"application.job.jobname")},{name:"state",title:"Stage",getValueOf:e=>c()(e,"application.status"),render:e=>(0,y.jsx)(x,{moduleName:"atsStage",name:e})},{name:"status",title:"Status",render:e=>0===e?(0,y.jsx)(u,{text:"Not started"}):1===e?(0,y.jsx)(u,{type:"progress",text:"In progress"}):2===e?(0,y.jsx)(u,{type:"success",text:"Completed"}):(0,y.jsx)(u,{text:"Unknown"})},{name:"messages",title:"Chat History",getValueOf:e=>e.messages&&e.messages.length>0&&(0,y.jsx)(n.Button,{type:"link",className:"btn-no-padding",onClick:()=>{A({title:"Chat History",footer:null,children:(0,y.jsx)(W.MessageList,{list:e.messages,startTime:e.start_time})})},children:"Check"})},{name:"result",title:"Chat Result",getValueOf:e=>2===e.status&&(0,y.jsx)(n.Button,{type:"link",className:"btn-no-padding",onClick:()=>{A({title:"Chat History",size:"small",footer:null,children:(0,y.jsx)(h,{col:1,columns:[{name:"result",title:"Result"},{name:"description",title:"Description"}],dataSource:{result:c()(e,"intent_summary.user_intent_by_llm"),description:c()(e,"intent_summary.summary_by_llm")}})})},children:"Check"})},{name:"create_time",title:"Start Time",format:"date-DD.MM.YYYY()HH:mm"},{name:"options",title:"",width:"16px",getValueOf:e=>0!==c()(e,"application.status")?(0,y.jsx)(y.Fragment,{}):(0,y.jsx)(i,{showLength:0,list:[{type:"link",children:"Resend invitation",onClick:()=>{O({title:"Resend invitation",autoClose:!0,size:"small",okText:"Resend",formProps:{data:{name:c()(e,"application.name"),email:c()(e,"application.email"),phone:`${c()(e,"application.mobile_country_code")||""} ${c()(e,"application.mobile")}`},onSubmit:async t=>{const n=(()=>{if(!t.phone)return{};const[e,a]=t.phone.split(" ");return{mobile:a,mobile_country_code:e}})(),{data:s}=await _(Object.assign({},P.agent.job.resend,{urlParams:{agent_id:e.agent,application_id:c()(e,"application.id")},data:Object.assign({},n,{name:t.name})}));if(0!==s.code)return!1;F.success("Success"),a()}},children:(0,y.jsxs)(n.Flex,{vertical:!0,gap:24,children:[(0,y.jsx)("div",{children:(0,y.jsx)(h,{dataSource:e.application,col:1,columns:[{name:"name",title:"Name"},{name:"jobName",title:"Job Name",getValueOf:e=>c()(e,"job.jobname")},{name:"resume",title:"Resume",getValueOf:e=>e.cv_url,render:e=>(0,y.jsx)(j,{title:"Resume",src:e,children:"Click Checked"})}]})}),(0,y.jsx)(g,{title:"Confirmation of key information",column:1,list:[(0,y.jsx)(I,{name:"name",label:"Name"}),(0,y.jsx)(T,{name:"phone",label:"Phone",format:"string"}),(0,y.jsx)(I,{name:"email",label:"Email",rule:"EMAIL"})]})]})})}},{type:"link",danger:!0,children:"Rejected",onClick:async()=>{const{data:t}=await _(Object.assign({},P.agent.job.rejected,{data:[{application_id:c()(e,"application.id"),status:5}]}));0===t.code&&(F.success("Success"),a())}}],more:(0,y.jsx)(n.Button,{icon:(0,y.jsx)(d,{type:"icon-gengduo2"}),className:"btn-no-padding",type:"link"})})}],dataSource:t.results}),(0,y.jsx)(n.Flex,{justify:"flex-end",children:(0,y.jsx)(n.Pagination,{showSizeChanger:!1,hideOnSinglePage:!0,total:t.count,current:w,pageSize:20,onChange:e=>{R(e)}})})]})}})})),J=e=>(0,y.jsx)(n.Tabs,{className:k,items:[{key:"skills",label:"Skills",children:(0,y.jsx)(O,{...e})},{key:"prompt",label:"Prompt",children:(0,y.jsx)(I,{...e})},{key:"flow",label:"Flow",children:(0,y.jsx)(E,{...e})},{key:"knowledge",label:"Knowledge",children:(0,y.jsx)(U,{...e})},{key:"basic",label:"Agent infos",children:(0,y.jsx)(Q,{...e})},{key:"applicants",label:"Applicants",children:(0,y.jsx)(z,{...e})}]}),X=(0,r.createWithRemoteLoader)({modules:["components-core:Global@usePreset"]})((e=>{let{remoteModules:t,baseUrl:a}=e;const[s]=t,{apis:r}=s(),[i]=(0,l.useSearchParams)();return(0,y.jsx)(o(),{...Object.assign({},r.agent.getAgentDetail,{urlParams:{agent_id:i.get("id")}}),render:e=>{let{data:t,reload:s}=e;return(0,y.jsxs)(n.Flex,{vertical:!0,gap:16,children:[(0,y.jsx)(C,{baseUrl:a,reload:s,id:t.id,status:t.status,avatar:t.avatar,name:t.name,roles:t.role}),(0,y.jsx)(J,{data:t,reload:s})]})}})}))},5654:(e,t,a)=>{var n=a(87937),s=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=s},12322:(e,t,a)=>{var n=a(16913),s=a(85990),o=a(22761),r=Function.prototype,l=Object.prototype,i=r.toString,c=l.hasOwnProperty,d=i.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=n(e))return!1;var t=s(e);if(null===t)return!0;var a=c.call(t,"constructor")&&t.constructor;return"function"==typeof a&&a instanceof a&&i.call(a)==d}},20310:(e,t,a)=>{var n=a(21817),s=a(85990),o=a(36140);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:n(s(e))}},22541:e=>{e.exports=function(e){return function(){return e}}},23253:(e,t,a)=>{var n=a(5538),s=a(63868),o=a(94258),r=a(83223),l=a(46686),i=a(30474),c=a(53737);e.exports=function e(t,a,d,u,m){t!==a&&o(a,(function(o,i){if(m||(m=new n),l(o))r(t,a,i,d,e,u,m);else{var p=u?u(c(t,i),o,i+"",t,a,m):void 0;void 0===p&&(p=o),s(t,i,p)}}),i)}},25999:e=>{e.exports={start:"Start",end:"End",normalNode:"Normal Node",branchNode:"Branch Node",conditionBranch:"Condition Branch",condition:"Condition",conditionContent:"Condition Content",nodeContent:"Node Content",addConditions:"Add Conditions"}},28325:(e,t,a)=>{var n=a(22541),s=a(5654),o=a(33279),r=s?function(e,t){return s(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:o;e.exports=r},30474:(e,t,a)=>{var n=a(73204),s=a(58122),o=a(6571);e.exports=function(e){return o(e)?n(e,!0):s(e)}},31170:e=>{e.exports=function(e,t,a){switch(a.length){case 0:return e.call(t);case 1:return e.call(t,a[0]);case 2:return e.call(t,a[0],a[1]);case 3:return e.call(t,a[0],a[1],a[2])}return e.apply(t,a)}},31271:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});const n={"page-header":"style_page-header__dlhVC__pIGCk",title:"style_title__j7bir__pIGCk"};var s=a(55199),o=a(98139),r=a.n(o),l=a(70579);const i=e=>{let{className:t,title:a,description:o}=e;return(0,l.jsxs)(s.Flex,{vertical:!0,gap:4,className:r()(t,n["page-header"]),children:[(0,l.jsxs)("div",{className:n.title,children:[(0,l.jsx)("i",{}),a]}),o&&(0,l.jsx)("div",{className:n.description,children:o})]})}},34677:(e,t,a)=>{var n=a(23253),s=a(84570)((function(e,t,a){n(e,t,a)}));e.exports=s},37204:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var n=a(13050),s=a(55199),o=a(57469),r=a.n(o),l=a(96488),i=a(33097),c=a.n(i);const d="style_header__S9OnS__pIGCk";var u=a(70579);const m=(0,n.createWithRemoteLoader)({modules:["components-core:Layout@PageHeader","components-core:Icon","components-core:StateBar","components-core:FilePreview"]})((e=>{let{remoteModules:t,data:a}=e;const[n,o,i,m]=t;return console.log(a),(0,u.jsxs)(s.Flex,{vertical:!0,gap:8,children:[(0,u.jsx)(n,{title:a.name,className:d,info:a.create_time&&`Invitational Time:${r()(a.create_time).format("DD.MM.YYYY HH:mm")}`,tags:[(0,u.jsxs)(s.Space,{children:[(0,u.jsx)(l.MobileOutlined,{}),(0,u.jsx)("span",{children:a.mobile})]}),(0,u.jsxs)(s.Space,{children:[(0,u.jsx)(o,{type:"xiaoxizhongxin"}),(0,u.jsx)("span",{children:a.email})]}),(0,u.jsxs)(s.Space,{split:":",size:0,children:[(0,u.jsx)("span",{children:"Apply"}),(0,u.jsx)("span",{children:a.job_name})]}),(0,u.jsxs)(s.Space,{split:":",size:0,children:[(0,u.jsx)("span",{children:"Apply"}),(0,u.jsx)("span",{children:c()(a,"header.name")})]})]}),(0,u.jsx)(i,{stateOption:[{tab:"Resume",key:"1"}]}),(0,u.jsx)("div",{children:(0,u.jsx)(m,{src:a.cv_url})})]})}))},38710:(e,t,a)=>{var n=a(61516);e.exports=function(e,t){var a=t?n(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.length)}},43516:e=>{e.exports=function(e){var t=[];if(null!=e)for(var a in Object(e))t.push(a);return t}},44353:(e,t,a)=>{e=a.nmd(e);var n=a(56552),s=t&&!t.nodeType&&t,o=s&&e&&!e.nodeType&&e,r=o&&o.exports===s?n.Buffer:void 0,l=r?r.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var a=e.length,n=l?l(a):new e.constructor(a);return e.copy(n),n}},46350:(e,t,a)=>{var n=a(28325),s=a(86578)(n);e.exports=s},53737:e=>{e.exports=function(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}},55636:(e,t,a)=>{var n=a(31170),s=Math.max;e.exports=function(e,t,a){return t=s(void 0===t?e.length-1:t,0),function(){for(var o=arguments,r=-1,l=s(o.length-t,0),i=Array(l);++r<l;)i[r]=o[t+r];r=-1;for(var c=Array(t+1);++r<t;)c[r]=o[r];return c[t]=a(i),n(e,this,c)}}},55647:(e,t,a)=>{var n=a(33279),s=a(55636),o=a(46350);e.exports=function(e,t){return o(s(e,t,n),e+"")}},58122:(e,t,a)=>{var n=a(46686),s=a(36140),o=a(43516),r=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return o(e);var t=s(e),a=[];for(var l in e)("constructor"!=l||!t&&r.call(e,l))&&a.push(l);return a}},60929:(e,t,a)=>{var n=a(93211),s=a(6571),o=a(69194),r=a(46686);e.exports=function(e,t,a){if(!r(a))return!1;var l=typeof t;return!!("number"==l?s(a)&&o(t,a.length):"string"==l&&t in a)&&n(a[t],e)}},61516:(e,t,a)=>{var n=a(22929);e.exports=function(e){var t=new e.constructor(e.byteLength);return new n(t).set(new n(e)),t}},63868:(e,t,a)=>{var n=a(71775),s=a(93211);e.exports=function(e,t,a){(void 0!==a&&!s(e[t],a)||void 0===a&&!(t in e))&&n(e,t,a)}},65190:(e,t,a)=>{"use strict";a.r(t),a.d(t,{CreateAgentFormInner:()=>u,default:()=>m});var n=a(13050),s=a(55199),o=a(31271),r=a(94679);const l="style_form__udj4S__pIGCk",i="style_form-inner__7PhRR__pIGCk",c="style_description__D271a__pIGCk";var d=a(70579);const u=(0,n.createWithRemoteLoader)({modules:["components-core:FormInfo","components-core:Global@usePreset"]})((e=>{let{remoteModules:t}=e;const[a,n]=t,{MultiField:s,useFormContext:o}=a,{apis:r}=n(),{Avatar:l,Input:c,TextArea:u,Select:m,Switch:p,SuperSelect:x}=a.fields,{formData:g}=o();return(0,d.jsx)(a,{className:i,column:1,list:[(0,d.jsx)(l,{wrappedClassName:"no-background",name:"avatar",labelHidden:!0,displayAvatar:e=>({src:e}),defaultAvatar:"data:image/png;base64,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",apis:{upload:async e=>{let{file:t}=e;return new Promise((e=>{const a=new FileReader;a.onload=t=>{e({data:{code:0,data:t.target.result}})},a.readAsDataURL(t)}))}}}),(0,d.jsx)(c,{name:"name",label:"Name",placeholder:"Give your app a name",rule:"REQ"}),(0,d.jsx)(m,{name:"use_scene",label:"Scene",options:[{label:"Recruit",value:0},{label:"Other",value:1}],rule:"REQ"}),(0,d.jsx)(x,{display:0===g.use_scene,name:"job_id",label:"Job",rule:"REQ",interceptor:"object-output-value",single:!0,showSelectedTag:!1,pagination:{paramsType:"params",current:"page",pageSizeName:"page_size"},searchPlaceholder:"Search by job name",getSearchProps:e=>{let{searchText:t}=e;return{job_name:t}},api:Object.assign({},r.agent.job.getJobList,{params:{status:0,page_size:20,job_leader:"all"},transformData:e=>({totalCount:e.count,pageData:e.results.map((e=>({label:e.jobname,value:e.id})))})})}),(0,d.jsx)(p,{name:"is_dynamic_output",label:"Side info"}),(0,d.jsx)(s,{name:"role",label:"Role",placeholder:"Give a role of your app",field:c,maxLength:3}),(0,d.jsx)(u,{ignoreLabelWidth:!0,name:"description",label:"Description",autoSize:{minRows:4},placeholder:"Enter the description of  the app"}),(0,d.jsx)(u,{name:"goals",ignoreLabelWidth:!0,label:"Goals",autoSize:{minRows:4},placeholder:"The name of the task"})]})})),m=(0,n.createWithRemoteLoader)({modules:["components-core:FormInfo","components-core:Global@usePreset"]})((e=>{let{remoteModules:t,baseUrl:a}=e;const[n,i]=t,{ajax:m,apis:p}=i(),{message:x}=s.App.useApp(),{Form:g,SubmitButton:h,CancelButton:j}=n,f=(0,r.useNavigate)();return(0,d.jsxs)(g,{className:l,type:"default",onSubmit:async e=>{const{data:t}=await m(Object.assign({},p.agent.addAgent,{data:e}));0===t.code&&(x.success("created success!"),f(`${a}/detail?id=${t.data.id}`))},children:[(0,d.jsxs)(s.Flex,{vertical:!0,children:[(0,d.jsx)(o.default,{title:"Create My Agents"}),(0,d.jsx)("div",{className:c,children:"App icon & name"}),(0,d.jsx)(u,{})]}),(0,d.jsxs)(s.Flex,{justify:"flex-end",gap:16,children:[(0,d.jsx)(j,{color:"default",variant:"filled",onClick:()=>{f(-1)},children:"Cancel"}),(0,d.jsx)(h,{children:"Create"})]})]})}))},71775:(e,t,a)=>{var n=a(5654);e.exports=function(e,t,a){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:a,writable:!0}):e[t]=a}},73330:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n={history:"style_history__SSRYv__pIGCk",title:"style_title__wQ4KP__pIGCk","search-input":"style_search-input__ZmilC__pIGCk",tag:"style_tag__Y1EjT__pIGCk"}},76272:(e,t,a)=>{var n=a(6571),s=a(22761);e.exports=function(e){return s(e)&&n(e)}},78420:(e,t,a)=>{var n=a(71775),s=a(93211),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,a){var r=e[t];o.call(e,t)&&s(r,a)&&(void 0!==a||t in e)||n(e,t,a)}},81253:(e,t,a)=>{"use strict";a.r(t),a.d(t,{MessageList:()=>x.A,default:()=>E});var n=a(13050),s=a(55199),o=a(73884),r=a(87558),l=a.n(r),i=a(98139),c=a.n(i),d=a(74065),u=a.n(d),m=a(85855),p=a.n(m),x=a(84867),g=a(96418),h=a.n(g),j=a(96488),f=a(9942),v=a(43627),b=a(34393),y=a(33097),S=a.n(y),C=a(24317),k=a(33734),w=a(92577),R=a.n(w),P=a(95877),_=a(96839),A=a.n(_),N=a(53984),O=a.n(N),I=a(70616),G=a(70579);const T=(0,n.createWithRemoteLoader)({modules:["components-core:InfoPage"]})((e=>{let{remoteModules:t,title:a,link:n,children:o}=e;const[r]=t;return(0,G.jsxs)(r,{className:b.A["job-card"],children:[(0,G.jsx)(r.Part,{title:a,children:o}),(0,G.jsx)(r,{children:(0,G.jsx)(s.Flex,{justify:"flex-end",children:(0,G.jsx)(s.Button,{shape:"round",target:"_blank",href:n,type:"primary",children:"Apply"})})})]})})),F=e=>{const t=document.createElement("div");t.innerHTML=e;const a=[],n=t.querySelectorAll("a");[].slice.call(n,0).forEach((e=>{if(/\.(mp4|webm|ogv)$/i.test(e.href)){const t=document.createElement("video");t.setAttribute("src",e.href),t.setAttribute("controls",""),a.push(t)}if(/\.(jpg|jpeg|png|gif|bmp|tiff|webp)$/i.test(e.href)){const t=document.createElement("img");t.setAttribute("src",e.href),a.push(t)}}));const s=t.querySelectorAll("img,video");[].slice.call(s,0).forEach((e=>{a.push(e)}));const o=t.querySelectorAll(".yaml-components");return a.push(...[].slice.call(o,0)),a.map((e=>e.outerHTML))},L=e=>{let{messages:t}=e;const a=(0,o.useRef)(null),n=(0,o.useRef)({output:"",index:-1}),[r,l]=(0,o.useState)(!1),i=(0,o.useMemo)((()=>S()(u()(t),"chatbot_content")||""),[t]),c=(e,t)=>(0,G.jsx)(R(),{htmlTransform:F,components:{Card:s.Card,JobCard:T},render:e=>(e&&e.length>0&&(n.current={output:e,index:t}),l(!(n.current&&n.current.output&&n.current.output.length>0)),(0,G.jsx)(O(),{duration:1e3,interval:500,type:["top","bottom"],onEnd:()=>{const e=a.current.querySelectorAll("video");[].slice.call(e,0).forEach((e=>{e.muted=!0,e.play()}))},children:n.current&&n.current.output&&n.current.output.map(((e,t)=>(0,G.jsx)("div",{children:e},`${n.current.index}-${t}`)))})),children:e});return(0,G.jsx)("div",{className:b.A["side-content"],ref:a,children:r?(0,G.jsx)("div",{children:c(S()(p()(t),"chatbot_content")||"",0)},"first"):(0,G.jsx)("div",{children:c(i,t.length-1)},"content")})},M=(0,n.createWithRemoteLoader)({modules:["components-core:LoadingButton","components-core:Global@usePreset","components-core:Common@SimpleBar","components-core:Image"]})((e=>{let{remoteModules:t,messageList:a,agentId:r,agentAvatar:l,sessionId:i,sessionName:d,startTime:m,lastTime:p,apis:g,onComplete:y,className:w,isEnd:R,openSide:_,token:N}=e;const[O,T,F,M]=t,[E,B]=(0,o.useState)(!0),[Y,D]=(0,o.useState)(!1),[U,Z]=(0,o.useState)(a||[]),{ajax:Q}=T(),{message:W}=s.App.useApp(),[V,H]=(0,o.useState)(""),[z,J]=(0,o.useState)(!1),X=(0,o.useRef)(null),[K,q]=(0,o.useState)(A().getItem("LEAPIN_AI_AGENT_WINDOW_SIZES")||["70%","30%"]),$=(0,o.useRef)(null),ee=(0,o.useRef)(null),te=h()((async()=>{const{data:e}=await Q(Object.assign({},g.saveSession,{urlParams:{session_id:i},params:{token:N},data:{status:2}}));0===e.code&&(W.success("Success"),y&&y())})),[ae,ne]=(0,o.useState)(!1);(0,o.useEffect)((()=>{X.current.scrollTop=X.current.scrollHeight}),[U,E]);const se=h()((async e=>{var t;let{type:a,value:n}=e;B(!0),D(!0);const s=null===(t=u()(U.filter((e=>{let{event:t}=e;return"error"!==t}))))||void 0===t?void 0:t.id,o=Object.assign({},g.sendSessionMessageStream,{urlParams:{session_id:i},params:{token:N},data:"condition"===a?{type:a,user_selection:[n],chat_message_id:s}:{type:a,user_content:n,chat_message_id:s},eventEmit:e=>{Z((t=>{const a=t.slice(0),n=a.findIndex((t=>{let{id:a}=t;return a===e.id}));return-1===n?a.push(e):a.splice(n,1,Object.assign({},a[n],e,{chatbot_content:(a[n].chatbot_content||"")+(e.chatbot_content||"")})),a}))}});Q.parseUrlParams(o),await(0,P.A)(o),B(!1),H(""),D(!1),ee.current&&ee.current.focus()}));(0,o.useEffect)((()=>{0===U.length?se({value:""}):B(!1)}),[U,se]);const oe=(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)("div",{className:b.A.title,children:(0,G.jsxs)(s.Flex,{className:b.A["title-inner"],justify:"space-between",align:"center",children:[(0,G.jsxs)(s.Flex,{gap:8,flex:1,children:[(0,G.jsx)(s.Flex,{flex:0,children:(0,G.jsx)(M.Avatar,{src:l||f,size:54})}),(0,G.jsxs)(s.Flex,{flex:1,vertical:!0,justify:"center",children:[(0,G.jsx)("div",{className:b.A["title-content"],children:d||"Conversations"}),!R&&p&&(0,G.jsx)("div",{className:b.A["title-time"],children:(0,G.jsx)(k.A,{time:p,onComplete:te})})]})]}),(0,G.jsx)(s.Flex,{children:p&&(R?(0,G.jsx)("div",{className:b.A["over-tips"],children:"Conversation End"}):(0,G.jsx)(O,{type:"primary",shape:"round",onClick:te,children:"End"}))})]})}),(0,G.jsxs)(s.Flex,{vertical:!0,gap:8,className:b.A["bot-body"],children:[(0,G.jsx)(F,{className:c()(b.A["message-list-outer"],"message-list-scroller",{[b.A["is-end"]]:R}),scrollableNodeProps:{ref:X},children:(0,G.jsx)(x.A,{isEnd:R,agentAvatar:l,list:U,startTime:m,currentMessage:E&&V,onResend:e=>{se({type:e.type,value:e.user_content})},onConditionChange:e=>{H(e.label),se({type:"condition",value:e})}})}),!R&&(0,G.jsxs)("div",{className:b.A.footer,children:["condition"===S()(u()(U),"type")?(0,G.jsx)("div",{className:b.A["message-input-checklist"],children:(0,G.jsx)(C.A,{loading:E,options:u()(U).options||[],onChange:e=>{H(e.label),se({type:"condition",value:e})}})}):(0,G.jsx)(G.Fragment,{children:ae?(0,G.jsx)(I.A,{agentId:r,onChange:e=>{H(e)},onComplete:e=>{if(ne(!1),e)return se({type:"text",value:e})}}):(0,G.jsx)("div",{className:b.A["message-input-border"],children:(0,G.jsxs)(s.Flex,{className:b.A["message-input-outer"],align:"center",children:[(0,G.jsx)(s.Input.TextArea,{ref:ee,onCompositionStart:()=>{J(!0),$.current&&clearTimeout($.current)},onCompositionEnd:()=>{$.current=setTimeout((()=>{J(!1)}),0)},disabled:E||Y,className:b.A["message-input"],autoSize:{minRows:1,maxRows:6},placeholder:"Ask Elsa...",value:V,onChange:e=>{H(e.target.value)},onKeyUp:e=>{if("Enter"===e.key&&!z){const e=V.trim();return H(e),0===e.length?void W.warning("The content sent cannot be empty"):se({type:"text",value:e})}}}),(0,G.jsx)(s.Button,{size:"small",icon:(0,G.jsx)(j.AudioFilled,{}),shape:"circle",type:"link",onClick:()=>{ne(!0)}}),(0,G.jsx)(O,{className:b.A["message-sender"],type:"primary",loading:E||Y,icon:(0,G.jsx)("img",{src:v,alt:"enter"}),onClick:async()=>{const e=V.trim();if(0!==e.length)return se({type:"text",value:e.trim()});W.warning("The content sent cannot be empty")}})]})})}),(0,G.jsx)(s.Typography.Link,{className:b.A.term,target:"_blank",href:`${(0,n.getPublicPath)("leapin-ai-agent")}/terms.html`,children:"Privacy and terms"})]})]})]});return(0,G.jsx)(s.Flex,{vertical:!0,className:c()(w,b.A.chat),children:_?(0,G.jsxs)(s.Splitter,{onResize:e=>{A().setItem("LEAPIN_AI_AGENT_WINDOW_SIZES",e),q(e)},children:[(0,G.jsx)(s.Splitter.Panel,{size:K[0],children:U.length>0?(0,G.jsx)(F,{className:c()(b.A["side-content-outer"],"side-content-outer"),children:(0,G.jsx)(L,{messages:U,evening:Y})}):(0,G.jsx)(s.Flex,{align:"center",justify:"center",style:{height:"100%"},children:(0,G.jsx)(s.Spin,{})})}),(0,G.jsx)(s.Splitter.Panel,{size:K[1],children:oe})]}):oe})})),E=(0,n.createWithRemoteLoader)({modules:["components-core:Global@usePreset"]})((e=>{let{remoteModules:t,className:a,apiName:n,id:s,baseUrl:o,token:r,onComplete:i}=e;const[c]=t,{apis:d}=c(),u=d.agent[n];return(0,G.jsx)(l(),{...Object.assign({},u.getSessionDetail,{urlParams:{session_id:s},params:{token:r}}),render:e=>{let{data:t,reload:n}=e;return(0,G.jsx)(M,{token:r,className:a,apis:u,sessionId:t.id,startTime:t.start_time,sessionName:t.session_name,baseUrl:o,onComplete:()=>{n()},openSide:t.agent.is_dynamic_output&&document.documentElement.clientWidth>=600,lastTime:t.countdown_time,isEnd:2===t.status,messageList:t.messages,agentId:t.agent.id,agentAvatar:S()(t,"agent_application.agent.avatar")})}})}))},83223:(e,t,a)=>{var n=a(63868),s=a(44353),o=a(38710),r=a(91980),l=a(20310),i=a(22777),c=a(54052),d=a(76272),u=a(44543),m=a(11629),p=a(46686),x=a(12322),g=a(51268),h=a(53737),j=a(91609);e.exports=function(e,t,a,f,v,b,y){var S=h(e,a),C=h(t,a),k=y.get(C);if(k)n(e,a,k);else{var w=b?b(S,C,a+"",e,t,y):void 0,R=void 0===w;if(R){var P=c(C),_=!P&&u(C),A=!P&&!_&&g(C);w=C,P||_||A?c(S)?w=S:d(S)?w=r(S):_?(R=!1,w=s(C,!0)):A?(R=!1,w=o(C,!0)):w=[]:x(C)||i(C)?(w=S,i(S)?w=j(S):p(S)&&!m(S)||(w=l(C))):R=!1}R&&(y.set(C,w),v(w,C,f,b,y),y.delete(C)),n(e,a,w)}}},84570:(e,t,a)=>{var n=a(55647),s=a(60929);e.exports=function(e){return n((function(t,a){var n=-1,o=a.length,r=o>1?a[o-1]:void 0,l=o>2?a[2]:void 0;for(r=e.length>3&&"function"==typeof r?(o--,r):void 0,l&&s(a[0],a[1],l)&&(r=o<3?void 0:r,o=1),t=Object(t);++n<o;){var i=a[n];i&&e(t,i,n,r)}return t}))}},86578:e=>{var t=Date.now;e.exports=function(e){var a=0,n=0;return function(){var s=t(),o=16-(s-n);if(n=s,o>0){if(++a>=800)return arguments[0]}else a=0;return e.apply(void 0,arguments)}}},91609:(e,t,a)=>{var n=a(96614),s=a(30474);e.exports=function(e){return n(e,s(e))}},91980:e=>{e.exports=function(e,t){var a=-1,n=e.length;for(t||(t=Array(n));++a<n;)t[a]=e[a];return t}},96614:(e,t,a)=>{var n=a(78420),s=a(71775);e.exports=function(e,t,a,o){var r=!a;a||(a={});for(var l=-1,i=t.length;++l<i;){var c=t[l],d=o?o(a[c],e[c],c,a,e):void 0;void 0===d&&(d=e[c]),r?s(a,c,d):n(a,c,d)}return a}}}]);
//# sourceMappingURL=8479.e6ed355d.chunk.js.map