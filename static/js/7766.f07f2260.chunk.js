/*! For license information please see 7766.f07f2260.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunk_kne_components_leapin_ai_agent=self.webpackChunk_kne_components_leapin_ai_agent||[]).push([[5509,7766],{5896:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var n=a(9379),s=a(3050),i=a(3884),l=a(5199),r=a(1271),o=a(7558),c=a.n(o),p=a(3097),d=a.n(p),_=a(4679),m=a(3502),g=a(3330),u=a(579);const h=(0,s.createWithRemoteLoader)({modules:["components-core:InfoPage@TableView","components-core:Global@usePreset","components-core:Common@SearchInput","components-core:Modal@useModal","components-core:StateTag"]})((e=>{let{remoteModules:t,baseUrl:a}=e;const[s,o,p,h,x]=t,{apis:f}=o(),[y,j]=(0,i.useState)(""),[v,k]=(0,_.useSearchParams)(),C=h(),S=v.get("page")||1;return(0,u.jsxs)(l.Flex,{className:g.A.history,vertical:!0,gap:24,children:[(0,u.jsx)(r.default,{title:"The Chat History",description:"The chat history recoird the running status of the application, including user inputs and AI replies."}),(0,u.jsxs)(l.Flex,{className:g.A.filter,justify:"space-between",children:[(0,u.jsx)("div",{}),(0,u.jsx)("div",{children:(0,u.jsx)(p,{className:g.A["search-input"],value:y,placeholder:"search",onSearch:j})})]}),(0,u.jsx)(c(),(0,n.A)((0,n.A)({},Object.assign({},f.agent.getSessionList,{params:{page:S,page_size:10,keyword:y}})),{},{render:e=>{let{data:t}=e;return(0,u.jsxs)(l.Flex,{vertical:!0,gap:8,children:[(0,u.jsx)(s,{dataSource:t.results,columns:[{name:"name",title:"Name",getValueOf:e=>{const t=d()(e,"agent_application.application")||d()(e,"agent_application.employee");return null===t||void 0===t?void 0:t.name}},{name:"phone",title:"Phone",getValueOf:e=>{const t=d()(e,"agent_application.application")||d()(e,"agent_application.employee");return null===t||void 0===t?void 0:t.mobile}},{name:"email",title:"Email",getValueOf:e=>{const t=d()(e,"agent_application.application")||d()(e,"agent_application.employee");return null===t||void 0===t?void 0:t.email}},{name:"role",title:"Role",getValueOf:e=>(0,u.jsx)(l.Space,{wrap:!0,children:(d()(e,"agent_application.agent.role")||[]).map((e=>(0,u.jsx)("div",{className:g.A.tag,children:e},e)))})},{name:"agentName",title:"Agent Name",getValueOf:e=>(0,u.jsx)(_.Link,{to:"".concat(a,"/detail?id=").concat(d()(e,"agent_application.agent.id")),children:d()(e,"agent_application.agent.name")})},{name:"status",title:"Status",render:e=>0===e?(0,u.jsx)(x,{text:"Not started"}):1===e?(0,u.jsx)(x,{type:"progress",text:"In progress"}):2===e?(0,u.jsx)(x,{type:"success",text:"Completed"}):(0,u.jsx)(x,{text:"Unknown"})},{name:"messages",title:"Chat History",getValueOf:e=>(0,u.jsx)(l.Button,{className:"btn-no-padding",type:"link",onClick:()=>{C({title:"Chat History",footer:null,children:(0,u.jsx)(m.MessageList,{agentAvatar:d()(e,"agent_application.agent.avatar"),list:e.messages,startTime:e.start_time})})},children:"Check"})},{name:"start_time",title:"Start Time",format:"date-DD.MM.YYYY()HH:mm"},{name:"end_time",title:"End Time",format:"date-DD.MM.YYYY()HH:mm"}]}),(0,u.jsx)(l.Flex,{justify:"flex-end",children:(0,u.jsx)(l.Pagination,{showSizeChanger:!1,hideOnSinglePage:!0,total:t.count,current:S,pageSize:10,onChange:e=>{const t=new URLSearchParams(v);t.set("page",e),k(t)}})})]})}}))]})}))},1271:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});const n={"page-header":"style_page-header__dlhVC__pIGCk",title:"style_title__j7bir__pIGCk"};var s=a(5199),i=a(8139),l=a.n(i),r=a(579);const o=e=>{let{className:t,title:a,description:i}=e;return(0,r.jsxs)(s.Flex,{vertical:!0,gap:4,className:l()(t,n["page-header"]),children:[(0,r.jsxs)("div",{className:n.title,children:[(0,r.jsx)("i",{}),a]}),i&&(0,r.jsx)("div",{className:n.description,children:i})]})}},1153:(e,t,a)=>{var n=a(3884),s=Symbol.for("react.element"),i=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,r=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,a){var n,i={},c=null,p=null;for(n in void 0!==a&&(c=""+a),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(p=t.ref),t)l.call(t,n)&&!o.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:s,type:e,key:c,ref:p,props:i,_owner:r.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},579:(e,t,a)=>{e.exports=a(1153)},3330:(e,t,a)=>{a.d(t,{A:()=>n});const n={history:"style_history__SSRYv__pIGCk",title:"style_title__wQ4KP__pIGCk","search-input":"style_search-input__ZmilC__pIGCk",tag:"style_tag__Y1EjT__pIGCk"}}}]);
//# sourceMappingURL=7766.f07f2260.chunk.js.map