{"version":3,"file":"static/js/7766.62f5c4d2.chunk.js","mappings":"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","sources":["../node_modules/react/jsx-runtime.js","../node_modules/react/cjs/react-jsx-runtime.production.min.js","webpack://@kne-components/leapin-ai-agent/./src/components/PageHeader/style.module.scss?df1b","components/PageHeader/index.js","webpack://@kne-components/leapin-ai-agent/./src/components/ChatHistory/style.module.scss?65f2","components/ChatHistory/index.js"],"sourcesContent":["'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","// extracted by mini-css-extract-plugin\nexport default {\"page-header\":\"style_page-header__dlhVC__pIGCk\",\"title\":\"style_title__j7bir__pIGCk\"};","import style from './style.module.scss';\nimport { Flex } from 'antd';\nimport classnames from 'classnames';\n\nconst PageHeader = ({ className, title, description }) => {\n  return (\n    <Flex vertical gap={4} className={classnames(className, style['page-header'])}>\n      <div className={style['title']}>\n        <i />\n        {title}\n      </div>\n      {description && <div className={style['description']}>{description}</div>}\n    </Flex>\n  );\n};\n\nexport default PageHeader;\n","// extracted by mini-css-extract-plugin\nexport default {\"history\":\"style_history__SSRYv__pIGCk\",\"title\":\"style_title__wQ4KP__pIGCk\",\"search-input\":\"style_search-input__ZmilC__pIGCk\",\"tag\":\"style_tag__Y1EjT__pIGCk\"};","import { createWithRemoteLoader } from '@kne/remote-loader';\nimport { useState } from 'react';\nimport { Flex, Pagination, Button, Space } from 'antd';\nimport PageHeader from '@components/PageHeader';\nimport Fetch from '@kne/react-fetch';\nimport get from 'lodash/get';\nimport { useSearchParams, Link } from 'react-router-dom';\nimport { MessageList } from '@components/ChatBot';\nimport style from './style.module.scss';\n\nconst ChartHistory = createWithRemoteLoader({\n  modules: ['components-core:InfoPage@TableView', 'components-core:Global@usePreset', 'components-core:Common@SearchInput', 'components-core:Modal@useModal', 'components-core:StateTag']\n})(({ remoteModules, baseUrl }) => {\n  const [TableView, usePreset, SearchInput, useModal, StateTag] = remoteModules;\n  const { apis } = usePreset();\n  const [keyword, setKeyword] = useState('');\n  const [searchParams, setSearchParams] = useSearchParams();\n  const modal = useModal();\n  const page = searchParams.get('page') || 1,\n    pageSize = 10;\n  return (\n    <Flex className={style['history']} vertical gap={24}>\n      <PageHeader title=\"The Chat History\" description=\"The chat history record the running status of the application, including user inputs and AI replies.\" />\n      <Flex className={style['filter']} justify=\"space-between\">\n        <div></div>\n        <div>\n          <SearchInput className={style['search-input']} value={keyword} placeholder=\"search\" onSearch={setKeyword} />\n        </div>\n      </Flex>\n      <Fetch\n        {...Object.assign({}, apis.agent.getSessionList, {\n          params: { page, page_size: pageSize, keyword }\n        })}\n        render={({ data }) => {\n          return (\n            <Flex vertical gap={8}>\n              <TableView\n                dataSource={data.results}\n                columns={[\n                  {\n                    name: 'name',\n                    title: 'Name',\n                    getValueOf: item => {\n                      const info = get(item, 'agent_application.application') || get(item, 'agent_application.employee');\n\n                      return info?.name;\n                    }\n                  },\n                  {\n                    name: 'phone',\n                    title: 'Phone',\n                    getValueOf: item => {\n                      const info = get(item, 'agent_application.application') || get(item, 'agent_application.employee');\n\n                      return info?.mobile;\n                    }\n                  },\n                  {\n                    name: 'email',\n                    title: 'Email',\n                    getValueOf: item => {\n                      const info = get(item, 'agent_application.application') || get(item, 'agent_application.employee');\n\n                      return info?.email;\n                    }\n                  },\n                  {\n                    name: 'role',\n                    title: 'Role',\n                    getValueOf: item => {\n                      return (\n                        <Space wrap>\n                          {(get(item, 'agent_application.agent.role') || []).map(role => (\n                            <div key={role} className={style['tag']}>\n                              {role}\n                            </div>\n                          ))}\n                        </Space>\n                      );\n                    }\n                  },\n                  {\n                    name: 'agentName',\n                    title: 'Agent Name',\n                    getValueOf: item => {\n                      return <Link to={`${baseUrl}/detail?id=${get(item, 'agent_application.agent.id')}`}>{get(item, 'agent_application.agent.name')}</Link>;\n                    }\n                  },\n                  {\n                    name: 'status',\n                    title: 'Status',\n                    render: status => {\n                      if (status === 0) {\n                        return <StateTag text=\"Not started\" />;\n                      }\n                      if (status === 1) {\n                        return <StateTag type=\"progress\" text=\"In progress\" />;\n                      }\n\n                      if (status === 2) {\n                        return <StateTag type=\"success\" text=\"Completed\" />;\n                      }\n\n                      return <StateTag text=\"Unknown\" />;\n                    }\n                  },\n                  {\n                    name: 'messages',\n                    title: 'Chat History',\n                    getValueOf: item => {\n                      return (\n                        <Button\n                          className=\"btn-no-padding\"\n                          type=\"link\"\n                          onClick={() => {\n                            modal({\n                              title: 'Chat History',\n                              footer: null,\n                              children: <MessageList agentAvatar={get(item, 'agent_application.agent.avatar')} list={item.messages} startTime={item.start_time} />\n                            });\n                          }}\n                        >\n                          Check\n                        </Button>\n                      );\n                    }\n                  },\n                  {\n                    name: 'start_time',\n                    title: 'Start Time',\n                    format: 'date-DD.MM.YYYY()HH:mm'\n                  },\n                  {\n                    name: 'end_time',\n                    title: 'End Time',\n                    format: 'date-DD.MM.YYYY()HH:mm'\n                  }\n                ]}\n              />\n              <Flex justify=\"flex-end\">\n                <Pagination\n                  showSizeChanger={false}\n                  hideOnSinglePage\n                  total={data.count}\n                  current={page}\n                  pageSize={pageSize}\n                  onChange={page => {\n                    const newSearchParams = new URLSearchParams(searchParams);\n                    newSearchParams.set('page', page);\n                    setSearchParams(newSearchParams);\n                  }}\n                />\n              </Flex>\n            </Flex>\n          );\n        }}\n      />\n    </Flex>\n  );\n});\n\nexport default ChartHistory;\n"],"names":["module","exports","f","require","k","Symbol","for","l","m","Object","prototype","hasOwnProperty","n","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentOwner","p","key","ref","__self","__source","q","c","a","g","b","d","e","h","call","defaultProps","$$typeof","type","props","_owner","current","Fragment","jsx","jsxs","_ref","className","title","description","_jsxs","Flex","vertical","gap","classnames","style","children","_jsx","createWithRemoteLoader","modules","remoteModules","baseUrl","TableView","usePreset","SearchInput","useModal","StateTag","apis","keyword","setKeyword","useState","searchParams","setSearchParams","useSearchParams","modal","page","get","PageHeader","justify","value","placeholder","onSearch","Fetch","assign","agent","getSessionList","params","page_size","render","_ref2","data","dataSource","results","columns","name","getValueOf","item","info","mobile","email","Space","wrap","map","role","Link","to","status","text","Button","onClick","footer","MessageList","agentAvatar","list","messages","startTime","start_time","format","Pagination","showSizeChanger","hideOnSinglePage","total","count","pageSize","onChange","newSearchParams","URLSearchParams","set"],"sourceRoot":""}